{% extends "maposmatic/base.html" %}

{% block extrajs %}
function area_selection_mode_switch(mode)
{
  if (mode == 'bbox-mode')
  {
    document.getElementById('admin-mode').style.display = 'none';
    document.getElementById('bbox-mode').style.display = '';
  }
  else if (mode == 'admin-mode')
  {
    document.getElementById('admin-mode').style.display = '';
    document.getElementById('bbox-mode').style.display = 'none';
  }
}

function pageinit()
{
  document.getElementById('id_mode_0').setAttribute('onclick', "area_selection_mode_switch('admin-mode')");
  document.getElementById('id_mode_1').setAttribute('onclick', "area_selection_mode_switch('bbox-mode')");
  if (document.getElementById('id_mode_0').getAttribute('checked') == 'checked')
    area_selection_mode_switch('admin-mode');
  else if (document.getElementById('id_mode_1').getAttribute('checked') == 'checked')
    area_selection_mode_switch('bbox-mode');
}
{% endblock %}

{% block menu-home %}
class="activelink"
{% endblock %}

{% block extrabody %}
onload='pageinit()'
{% endblock %}

{% block page %}
<h1>MapOSMatic</h1>

<form method="post" action="">

<table>
  <tr>
    <td>Title for the generated map</td>
    <td>{{ form.maptitle }}</td>
    <td>{{ form.maptitle.errors }}</td>
  </tr>
  <tr>
    <td>Area selection mode</td>
    <td>
      {{ form.mode }}
    </td>
  </tr>
  <tr id="admin-mode">
    <td>City name</td>
    <td>{{ form.administrative_city }}</td>
    <td>{{ form.administrative_city.errors }}</td>
  </tr>
  <tr id="bbox-mode" style="display: none;">
    <td>Bounding box</td>
    <td style="text-align: center">
      <input type="text" name="lat_upper_left" style="width: 100px; margin-bottom: 5px;"/>{{ form.lat_upper_left.errors }}<br/>
      <input type="text" name="lon_upper_left"  style="width: 100px; margin-bottom: 5px;"/>{{ form.lon_upper_left.errors }}
      <input type="text" name="lon_bottom_right"  style="width: 100px"/>{{ form.lat_bottom_right.errors }}<br/>
      <input type="text" name="lat_bottom_right"  style="width: 100px"/>{{ form.lon_bottom_right.errors }}
    </td>
  </tr>
  <tr>
    <td></td>
    <td><input type="submit" value="Generate"/></td>
  </tr>
</table>

</form>

{% endblock %}